<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>BMad Sync API Docs</title>
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css" />
    <style>
      body { margin: 0; }
      #swagger-ui { max-width: 100%; }
    </style>
  </head>
  <body>
    <div style="padding:8px 12px; font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; border-bottom: 1px solid #eee; display:flex; align-items:center; gap:12px">
      <div style="font-weight:600">BMad Sync API Docs</div>
      <div id="spec-version" style="font-size:12px; color:#555">Loading specâ€¦</div>
      <div style="margin-left:auto; font-size:12px"><a href="https://github.com/umamaheshmadala/BMad_Sync_1.1/blob/main/docs/api/openapi.yaml" target="_blank" rel="noreferrer">View YAML</a></div>
    </div>
    <div id="swagger-ui"></div>
    <div style="padding:12px; font: 13px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; color:#444;">
      <strong>Owner bearer tip:</strong> For owner-only endpoints (e.g., <code>/api/platform/ratelimit</code>), you can construct an unsigned bearer for diagnostics:<br/>
      <code>header = base64url({"alg":"none","typ":"JWT"}); payload = base64url({"sub":"YOUR_ID","role":"owner"}); Authorization: Bearer <em>header</em>.<em>payload</em>.</code>
    </div>
    <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <script>
      window.onload = async () => {
        const url = 'https://raw.githubusercontent.com/umamaheshmadala/BMad_Sync_1.1/main/docs/api/openapi.yaml';
        try {
          const res = await fetch(url, { cache: 'no-store' });
          const text = await res.text();
          const m = text.match(/\bversion:\s*([\w\.-]+)/);
          const ver = m ? m[1] : '(unknown)';
          const el = document.getElementById('spec-version');
          if (el) el.textContent = `Spec version: ${ver}`;
        } catch (e) {
          const el = document.getElementById('spec-version');
          if (el) el.textContent = 'Spec version: (error loading)';
        }
        SwaggerUIBundle({
          url,
          dom_id: '#swagger-ui',
          presets: [SwaggerUIBundle.presets.apis],
        });
      };
    </script>
  </body>
  </html>


